<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_shellface</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>enemyparent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
aggro = 0
inv = false
hp = 160
phase = 1
fric = 1.5
image_speed = 0
aggro_range = 250
vibrate = 0
maskvib = 0
momentum = true
spd = 1
drowned = false
direction = image_angle
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if drowned = false {event_inherited()}
player.pothp += 10
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[1] = random_range(100, 180)
phase = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if distance_to_object(player) &lt; 80 {phase = 2; alarm[2] = 120; spd = 0} else {alarm[1] = 20}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>inv = false
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if player_seen = true &amp;&amp; aggro = 0 {aggro = 1; alarm[1] = random_range(100, 180)}
if hp &lt;= 0 {instance_destroy()}
image_angle = direction
if vibrate &gt; 0 {vibrate -= 0.2} else {vibrate = 0}
if maskvib &gt; 0 {maskvib -= 0.1}

if aggro = true 
{

if phase = 1
{
if distance_to_object(player) &gt; 750 {aggro = false; speed = 0; spd = 0; }
image_index = 0
if angle_difference(direction, point_direction(x, y, player.x, player.y)) &lt; -8 {direction += 2.5; speed = spd} else
if angle_difference(direction, point_direction(x, y, player.x, player.y)) &gt; 8 {direction -= 2.5; speed = spd} else
{if distance_to_object(player) &gt; 30 {speed = spd} else {speed = 0}}
if momentum = true {spd += 0.1} else {spd -= 0.1}
if spd &lt; 0 {spd = 0}
if spd &gt;= 3 {momentum = false}
if spd &lt;= 0 &amp;&amp; angle_difference(direction, point_direction(x, y, player.x, player.y)) &gt; -8 &amp;&amp; angle_difference(direction, point_direction(x, y, player.x, player.y)) &lt; 8 {momentum = true}
}

if phase = 2
{
if distance_to_object(player) &lt; 30 {speed = 0}
image_index = 1
speed -= 0.1
if speed &lt; 0 {speed = 0}
vibrate = 2
if alarm[2] &lt;= 80 &amp;&amp; alarm[2] &gt;= 30 {instance_create(x + random_range(-80, 80), y + random_range(-80, 80), poisonparticle)}
if distance_to_object(player) &lt; 60 &amp;&amp; alarm[2] &lt;= 80 &amp;&amp; alarm[2] &gt;= 10 {player.hp -= 0.6; instance_create(player.x + random_range(-32, 32), player.y + random_range(-32, 32), moss)}
}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="sword">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ds_list_find_index(player.weapon.hitlist, id) = -1 
{

if abs(angle_difference(point_direction(x, y, player.x, player.y), image_angle)) &lt; 90

{
maskvib = 3
audio_play_sound(clang, 10, false);
kb = player.weapon.kbvalue;
kbdir = point_direction(other.kbx, other.kby, x, y);
ds_list_add(player.weapon.hitlist, id);
if player.weapon.object_index = flail {ds_list_add(player.weapon.hitlist, player.weapon.swing); player.weapon.charge -= 5}


//with player script_execute(interrupt)
}

else

{
script_execute(damagedscript)
}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="deathinvis">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if other.suction
{
    with(other)
        if !point_in_rectangle(other.x,other.y,bbox_left + suction_border,bbox_top + suction_border,bbox_right - suction_border, bbox_bottom - suction_border)
        {
            var dir = point_direction((other.x &gt; bbox_right - suction_border) - (other.x &lt; bbox_left + suction_border),(other.y &gt; bbox_bottom - suction_border) - (other.y &lt; bbox_top + suction_border),0,0)
            var cx = lengthdir_x(other.kb,other.kbdir);
            var cy = lengthdir_y(other.kb,other.kbdir);
            cx += lengthdir_x(suction_speed,dir)
            cy += lengthdir_y(suction_speed,dir)
            other.kbdir = point_direction(0,0,cx,cy)
            other.kb = point_distance(0,0,cx,cy)
            exit
        }
}
hp-=10000
drowned = true
instance_create(x, y, drownparticle)
repeat(16) {instance_create(x+random_range(-16,16), y+random_range(-16,16), splash)}
ds_list_add(player.defeated, id)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="wall">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="player">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite_ext(spr_shellface, image_index, x + random_range(-vibrate, vibrate), y + random_range(-vibrate, vibrate), image_xscale, image_yscale, image_angle, image_blend, image_alpha)
draw_sprite_ext(spr_shellface, 3, x + random_range(-maskvib, maskvib), y + random_range(-maskvib, maskvib), image_xscale, image_yscale, image_angle, image_blend, image_alpha)
//if phase = 2 &amp;&amp; alarm[2] &lt;= 100 {draw_sprite_ext(spr_shellgas, 0, x, y, 1.5, 1.5, random(360), image_blend, 0.5)}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
