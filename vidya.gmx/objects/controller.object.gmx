<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-99999999</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>randomize()

paused = false
bg_surf = noone

cur_sword = 0
cur_shield = 0

var i;
i = 9;
repeat(10)
   {
   progress[i] = 0;
   i -= 1;
   }
   
blackout = 0;
blackoutvar = 0;
destination = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(spawnpoint)
{
if !instance_exists(player) {instance_create(spawnpoint.x, spawnpoint.y, player)}
}
/*globalvar pathfindgrid;
pathfindgrid = mp_grid_create(B, B, room_width / 64, room_height / 64, 64, 64);
mp_grid_clear_all(pathfindgrid)
with (wall) {mp_grid_add_cell(pathfindgrid, floor(x / 64), floor(y / 64));}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="75">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*
if surface_exists(bg_surf)
{
draw_set_blend_mode_ext(bm_one,bm_zero)

        
    draw_surface(bg_surf,0,0)
    draw_set_blend_mode(bm_normal)
    
    var cx = view_wport * .5
var cy = view_hport * .5
var ui_w = 300
var ui_h = 150
var xx = cx - ui_w * .5
var yy = cy - ui_h * .5
draw_roundrect(xx,yy,xx + ui_w,yy + ui_h,false)

var ui_side = sprite_get_width(spr_inventoryitems)
var padding = 20
//sword
draw_roundrect_color(xx + padding,yy + padding, xx + padding + ui_side-1,yy + padding + ui_side-1,c_white,c_white,false)

//draw sword sprite indicator

//draw_sprite(spr_inventoryitems,cur_sword,xx + padding,yy + padding)

//draw buttons
draw_set_color(c_gray)
draw_primitive_begin(pr_trianglelist)
// Left Sword
draw_vertex(xx + padding - 3,yy + padding)
draw_vertex(xx + padding - 3,yy + ui_side + padding)
draw_vertex(xx + padding - 13,yy + ui_side * .5 + padding)

// Right Sword
draw_vertex(xx + ui_side + padding + 3,yy + padding)
draw_vertex(xx + ui_side + padding + 3,yy + ui_side + padding)
draw_vertex(xx + ui_side + padding + 16,yy + ui_side * .5 + padding)
draw_primitive_end()
draw_set_color(c_black)

}
if keyboard_check_pressed(vk_escape)
{
    if paused
    {
        if surface_exists(bg_surf)
            surface_free(bg_surf)
        instance_activate_all()
        application_surface_enable(true)
    }
    else
    {
        if surface_exists(bg_surf)
            surface_resize(bg_surf,view_wport,view_hport) 
        bg_surf = surface_create(surface_get_width(application_surface),surface_get_height(application_surface))
        surface_set_target(bg_surf)
        draw_clear(c_black)
        draw_set_blend_mode_ext(bm_one,bm_zero)
        draw_surface(application_surface,0,0)
        draw_set_blend_mode(bm_normal)
        //surface_copy(bg_surf,0,0,application_surface)        
        with(player)
            event_perform(ev_draw,ev_gui)
        instance_deactivate_all(true)
        application_surface_enable(false)
        surface_reset_target()
        
    }
    paused = (!paused)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if blackout = 1 {blackoutvar += 0.02}
if blackoutvar = 1.6 {blackoutvar = 1.5; blackout = -1; room_goto(destination)}
if blackout = -1 {blackoutvar -= 0.02}
if blackoutvar = 0 {blackout = 0}
draw_sprite_ext(spr_blackout, 0, 0, 0, 1, 1, 0, c_white, blackoutvar)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*draw_set_alpha(0.3);
mp_grid_draw(pathfindgrid)
draw_set_alpha(1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
