<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_sewerwizard</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>enemyparent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
aggro = 0
inv = false
hp = 600
phase = 3
fric = 2
image_speed = 0
aggro_range = 200
vibrate = 0
count = 0
direction = image_angle

tp1 = instance_create(1664, 64, wizardtp)
tp1.owner = id

tp2 = instance_create(2176, 64, wizardtp)
tp2.owner = id

tp3 = instance_create(1920, 576, wizardtp)
tp3.owner = id
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited()
player.pothp += 10
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>phase = 2
alarm[2] = 460
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if phase = 3
//{
//phase = 1
//alarm[1] = 150
//}

//else

{
phase = 3
alarm[3] = 180
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>phase = 2
alarm[2] = 460
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>inv = false
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if player_seen = true &amp;&amp; aggro = 0 {aggro = 1; image_index ++; phase = 3; alarm[3] = 180}
if hp &lt;= 0 {instance_destroy()}
image_angle = direction

if aggro = true 
{


if phase = 1
{

direction = point_direction(x, y, player.x, player.y)

if alarm[1] = 140
{
if x != 1920 + B or y != 320 + B
{
repeat(16) instance_create(x + random_range(-32, 32), y + random_range(-32, 32), squidparticle);
x = 1920 + B; 
y = 320 + B;
kb = 0;
//show_debug_message("aw ye")
}
}

if alarm[1] mod 30 = 0 &amp;&amp; alarm[1] &lt; 110 {instance_create(x, y, sewershot)}

}

if phase = 2
{
direction = point_direction(x, y, player.x, player.y)
if alarm[2] mod 100 = 50 &amp;&amp; alarm[2] &gt; 100 
{
 var dist;
dist[0] = distance_to_object(tp1)
dist[1] = distance_to_object(tp2)
dist[2] = distance_to_object(tp3)
var mid = median(dist[0] ,dist[1] ,dist[2] )
var mid_inst;
if dist[0] == mid
  mid_inst = tp1
else if dist[1] == mid
  mid_inst = tp2
else
  mid_inst = tp3

with instance_create(mid_inst.x, mid_inst.y, wizardspot) owner = other.id


}
//with choose(tp1, tp2, tp3) {with instance_create(x, y, wizardspot) owner = other.owner}

//if alarm[2] = 350 {with choose(tp1, tp2, tp3) {with instance_create(x, y, wizardspot) owner = other.owner}}
//if alarm[2] = 250 {with choose(tp1, tp2, tp3) {with instance_create(x, y, wizardspot) owner = other.owner}}
//if alarm[2] = 150 {with choose(tp1, tp2, tp3) {with instance_create(x, y, wizardspot) owner = other.owner}}
}

if phase = 3
{

direction = point_direction(x, y, player.x, player.y)

if alarm[3] = 170
{
if x != 1920 + B or y != 320 + B
{
repeat(16) instance_create(x + random_range(-32, 32), y + random_range(-32, 32), squidparticle);
x = 1920 + B; 
y = 320 + B;
kb = 0;
//show_debug_message("aw ye")
}
}

if alarm[3] = 80 {with instance_create(x + lengthdir_x(80, image_angle), y + lengthdir_y(80, image_angle), sewershot2) {owner = other.id}}
if alarm[3] &gt; 60 &amp;&amp; alarm[3] &lt; 160 {instance_create(x + lengthdir_x(80, image_angle), y + lengthdir_y(80, image_angle), squidparticle)}
}

if hp &lt;= 300 &amp;&amp; sprite_index != spr_sewerwizard2 
{
sprite_index = spr_sewerwizard2; 
with instance_create(x, y, debris) {sprite_index = spr_sewerhat; image_angle = other.image_angle; direction = other.image_angle + 90};
with instance_create(x, y, debris) {sprite_index = spr_sewerhat; image_index = 1; image_angle = other.image_angle; direction = other.image_angle - 90};
}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="sword">
      <action>
        <libid>1</libid>
        <id>601</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_execute_script</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>9</kind>
            <script>damagedscript</script>
          </argument>
          <argument>
            <kind>0</kind>
            <string></string>
          </argument>
          <argument>
            <kind>0</kind>
            <string></string>
          </argument>
          <argument>
            <kind>0</kind>
            <string></string>
          </argument>
          <argument>
            <kind>0</kind>
            <string></string>
          </argument>
          <argument>
            <kind>0</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="wall">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="player">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self()
if sprite_index = spr_sewerwizard2
{
draw_sprite_ext(sprite_index, 2, x, y, image_xscale, image_yscale, image_angle, image_blend, image_alpha)

if alarm[3] &gt; 60 &amp;&amp; alarm[3] &lt; 160
{
draw_sprite_ext(sprite_index, 4, x + random_range(-2, 2), y + random_range(-2, 2), image_xscale, image_yscale, image_angle, image_blend, image_alpha)
}

else
{
draw_sprite_ext(sprite_index, 3, x, y, image_xscale, image_yscale, image_angle, image_blend, image_alpha)
}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
